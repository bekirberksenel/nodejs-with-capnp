"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var util_1 = require("../util");
var capnp = require("../../lib");
var foo_capnp_1 = require("./foo.capnp");
var foo_new_capnp_1 = require("./foo-new.capnp");
util_1.tap.test("foo regression", function (t) {
    var oldMessage = new capnp.Message();
    var oldFoo = oldMessage.initRoot(foo_capnp_1.Foo);
    oldFoo.setBar("bar");
    var packed = Buffer.from(oldMessage.toPackedArrayBuffer());
    var newMessage = new capnp.Message(packed);
    var newFoo = newMessage.getRoot(foo_new_capnp_1.Foo);
    t.pass("should not 💩 the 🛏");
    t.end();
});

//# sourceMappingURL=foo.spec.js.map
